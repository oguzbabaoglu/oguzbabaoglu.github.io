
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ISO 8601 and RFC 822 on Android</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:400,700,400italic,700italic%7COpen+Sans:400italic,700italic,700,400">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=f206d92bc5">

    <link rel="canonical" href="http://blog.oguzbabaoglu.com/iso-8601-on-android/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="Android dev. blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="ISO 8601 and RFC 822 on Android">
    <meta property="og:description" content="A common task when consuming API responses is to parse date values into java Date objects. The format of the values come in many shapes and forms but one of the most common practices is to use a String in...">
    <meta property="og:url" content="http://blog.oguzbabaoglu.com/iso-8601-on-android/">
    <meta property="article:published_time" content="2016-03-29T15:43:58.764Z">
    <meta property="article:modified_time" content="2016-03-29T16:09:53.943Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="ISO 8601 and RFC 822 on Android">
    <meta name="twitter:description" content="A common task when consuming API responses is to parse date values into java Date objects. The format of the values come in many shapes and forms but one of the most common practices is to use a String in...">
    <meta name="twitter:url" content="http://blog.oguzbabaoglu.com/iso-8601-on-android/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Android dev. blog",
    "author": {
        "@type": "Person",
        "name": "Oguz Babaoglu",
        "url": "http://blog.oguzbabaoglu.com/author/oguz",
        "sameAs": null,
        "description": null
    },
    "headline": "ISO 8601 and RFC 822 on Android",
    "url": "http://blog.oguzbabaoglu.com/iso-8601-on-android/",
    "datePublished": "2016-03-29T15:43:58.764Z",
    "dateModified": "2016-03-29T16:09:53.943Z",
    "description": "A common task when consuming API responses is to parse date values into java Date objects. The format of the values come in many shapes and forms but one of the most common practices is to use a String in..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="Android dev. blog" href="http://blog.oguzbabaoglu.com/rss/">
</head>
<body class="post-template  noimage">

    


    <article role="main" class="">
        <header>
            <a href="http://blog.oguzbabaoglu.com" id="home_link">«</a>
            <div class="meta"><time datetime="2016-03-29"><a href="index.html">March 29, 2016</a></time> <span class="count" id="js-reading-time"></span></div>
            <h1>ISO 8601 and RFC 822 on Android</h1>
        </header>

        <div class="text" id="js-post-content">
            <p>A common task when consuming API responses is to parse date values into java <code>Date</code> objects.</p>

<p>The format of the values come in many shapes and forms but one of the most common practices is to use a <code>String</code> in a variant of the <strong>ISO 8601</strong> format.</p>

<p>From <a href="https://en.wikipedia.org/wiki/ISO_8601">wikipedia</a>:  </p>

<blockquote>
  <p>ISO 8601 was issued by the International Organization for Standardization (ISO) and was first published in 1988. The purpose of this standard is to provide an unambiguous and well-defined method of representing dates and times, so as to avoid misinterpretation of numeric representations of dates and times, particularly when data are transferred between countries with different conventions for writing numeric dates and times.</p>
</blockquote>

<p>Relevant <a href="http://xkcd.com/1179/">xkcd</a>: <br>
<img src="http://imgs.xkcd.com/comics/iso_8601.png" alt="xkcd 1179"></p>

<p>ISO 8601 itself comes in many different forms. All of the following are valid examples of the standard:</p>

<ul>
<li>2008-09-15</li>
<li>20080915T155300+0500</li>
<li>2008-09-15T15:53:00+05:00</li>
</ul>

<p>Here is JDK 7's way of representing them as documented in <a href="https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html">JDK 7 SimpleDateFormat</a>:</p>

<ul>
<li><code>yyyy-MM-dd</code></li>
<li><code>yyyyMMdd'T'HHmmssZ</code></li>
<li><code>yyyy-MM-dd'T'HH:mm:ssXXX</code></li>
</ul>

<p>And here is Android's way of representing them as documented in <a href="http://developer.android.com/reference/java/text/SimpleDateFormat.html">Android SimpleDateFormat</a>:</p>

<ul>
<li><code>yyyy-MM-dd</code></li>
<li><code>yyyyMMdd'T'HHmmssZ</code></li>
<li><code>yyyy-MM-dd'T'HH:mm:ssZZZZZ</code></li>
</ul>

<p>As you may have noticed, the last one is different between the two. Actually, the docs in <a href="http://developer.android.com/reference/java/text/SimpleDateFormat.html">Android SimpleDateFormat</a> don't even mention the <code>X</code> character.</p>

<p>This is important because it means you can not use the same format in your code that runs on the phone and your unit tests that run on the JDK of your dev machine.</p>

<p>In both of the docs, <code>Z</code> is defined as <strong>RFC 822</strong>. This is actually a standard written in 1982 for email or "<em>text messages</em>" as they are called in the document. You can find the document here: <a href="https://tools.ietf.org/html/rfc822">https://tools.ietf.org/html/rfc822</a>.</p>

<hr>

<p><strong>Side note:</strong> <em>The word "email" is not used in this document, and it was released on August 13, 1982. <a href="https://en.wikipedia.org/wiki/Shiva_Ayyadurai">Shiva Ayyadurai</a> copyrighted(*) the term "EMAIL" on August 30th, 1982. Just two weeks in between.</em></p>

<hr>

<p>According to RFC 822, time zones can only be shown as <code>("+" / "-") 4DIGIT</code>. So this means <code>+0500</code> is valid but <code>+05:00</code> is invalid for RFC 822.</p>

<p>In the JDK docs, <code>Z</code> is reserved only for RFC 822 and <code>X</code> is specifically for ISO 8601. We can think of <code>X</code> as an "extension" to the RFC 822 format here.</p>

<hr>

<p><strong>Side note:</strong> <em>The Z stands for the “<strong>z</strong>ero meridian”, which goes through Greenwich, UK.</em></p>

<hr>

<p>On Android <code>Z</code> is defined as <code>Z/ZZ/ZZZ:-0800 ZZZZ:GMT-08:00 ZZZZZ:-08:00</code>. Technically, <code>GMT-08:00</code> and <code>-08:00</code> are not valid for RFC 822. </p>

<p>I leave it to the reader to decide if this is a bug or not.</p>

<hr>

<ul>
<li><p>Some more interesting reading on the ISO 8601 format can be found in: <a href="http://www.cl.cam.ac.uk/~mgk25/iso-time.html">http://www.cl.cam.ac.uk/~mgk25/iso-time.html</a>.</p></li>
<li><p>The ISO 8601 document is hosted here: <a href="http://metric1.org/8601.pdf">http://metric1.org/8601.pdf</a></p></li>
<li><p>(*) <a href="https://en.wikipedia.org/wiki/Shiva_Ayyadurai">Shiva Ayyadurai</a>  being the inventor of email is a controversial topic, I recommend reading about it.</p></li>
</ul>

<hr>
        </div>

    <div id="disqus_thread"></div>

    </article>

    <script type="text/javascript">
        var disqus_shortname = 'oguzbabaoglu';
        var disqus_identifier = '4';
     
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    <div id="post_nav">
        <nav role="navigation">
            <span style="font-size: 70%">Created with <a href="https://ghost.org">Ghost</a> - by Oguz Babaoglu ©2016</span>
                <a href="../espresso-unlock-and-wake-device/" id="post_prev" title="Previous Post">
                    Older
                    <span aria-hidden="true" data-icon="&gt;"></span>
                </a>
        </nav>
    </div>





    <script>

            function get_text(el) {
                ret = "";
                var length = el.childNodes.length;
                for(var i = 0; i < length; i++) {
                    var node = el.childNodes[i];
                    if(node.nodeType != 8) {
                        ret += node.nodeType != 1 ? node.nodeValue : get_text(node);
                    }
                }
                return ret;
            }
            function reading_time () {
                var post_content = document.getElementById('js-post-content');
                if (post_content) {
                    var words = get_text(post_content),
                        count = words.split(/\s+/).length,
                        read_time = Math.ceil((count / 150)),
                        read_time_node = document.createTextNode(read_time + ' min read');
                    document.getElementById('js-reading-time').appendChild(read_time_node);
                }
            }

        function no_schema_links () {
            var links = document.querySelectorAll('.js-remove-domain-schema');
            if (links) {
                for (i = 0; i < links.length; ++i) {
                    var link = links[i],
                        text = link.innerHTML,
                        no_schema = text.replace(/.*?:\/\//g, "");
                    link.innerHTML = no_schema;
                }
            }
        }

        window.onload = function () {
            no_schema_links();

            reading_time();
        }
    </script>

    

</body>
